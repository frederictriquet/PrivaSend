# Changelog

All notable changes to PrivaSend will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.4.2](https://github.com/frederictriquet/PrivaSend/compare/privasend-v0.4.1...privasend-v0.4.2) (2025-11-30)


### Bug Fixes

* **docker:** Add build tools for native dependencies compilation ([e5c4abc](https://github.com/frederictriquet/PrivaSend/commit/e5c4abc7715527a74bd8b0daace982e6f3224f28))
* **prettier:** Ignore CHANGELOG.md (auto-generated by release-please) ([b25d95a](https://github.com/frederictriquet/PrivaSend/commit/b25d95aeda4d39850bfc4c76123639f2b3b54f23))

## [0.4.1](https://github.com/frederictriquet/PrivaSend/compare/privasend-v0.4.0...privasend-v0.4.1) (2025-11-30)

### Features

- **auth:** Add database schema for password protection and access control ([95077ae](https://github.com/frederictriquet/PrivaSend/commit/95077aebe79406f150a45f5de2cfebd8691d4b13))
- **ci:** Add E2E test results to GitHub Actions Summary ([b6b11ad](https://github.com/frederictriquet/PrivaSend/commit/b6b11ad610afba517ea387a4613f05b78271e4f2))
- **ci:** Display complete test details in GitHub Summary ([6964ec4](https://github.com/frederictriquet/PrivaSend/commit/6964ec485c5bf90948fc036e1aae3c4ca178875d))
- **ci:** Improve E2E test summary with detailed suite breakdown ([67f7e23](https://github.com/frederictriquet/PrivaSend/commit/67f7e2362a5727194a2e08d1f19bd5b873802ce9))
- **ci:** Replace Codecov with GitHub-native coverage reporting ([fea01e1](https://github.com/frederictriquet/PrivaSend/commit/fea01e1438b716c9a3b2d9718952f2df790cbbfc))
- **docker:** Add HTTPS deployment with https-portal ([60507e4](https://github.com/frederictriquet/PrivaSend/commit/60507e4b268a6b0746f6abf7e4e0780ea8159cba))
- **hooks:** Add Husky pre-commit hooks for automatic formatting ([e91676e](https://github.com/frederictriquet/PrivaSend/commit/e91676e1f92ade4cb27cd7fce32d40e1a5523e32))
- Initial PrivaSend implementation with complete CI/CD pipeline ([37bf563](https://github.com/frederictriquet/PrivaSend/commit/37bf563b1446fec037a4a0f68312d404811a0f04))
- **roadmap:** Add Phase 1.5 - Shared Volume file sharing ([90e8b45](https://github.com/frederictriquet/PrivaSend/commit/90e8b45d497fd172a578c6fa4b045ea6caadde00))
- **shared-volume:** Add Phase 1.5 Step 2 API endpoints ([acdb1b5](https://github.com/frederictriquet/PrivaSend/commit/acdb1b5298b71a912d0e927720ba985d5969a400))
- **shared-volume:** Complete Phase 1.5 backend implementation ([17bb78e](https://github.com/frederictriquet/PrivaSend/commit/17bb78ed1b6b2c61832f9b89b0d312afbcd455ff))
- **shared-volume:** Implement Phase 1.5 Step 1 - Backend foundation ([fb76155](https://github.com/frederictriquet/PrivaSend/commit/fb76155270acfb45f11501e627d823c2680d443e))
- **ui:** Add complete frontend for Phase 1.5 shared volume feature ([1949296](https://github.com/frederictriquet/PrivaSend/commit/1949296231fcc51ba96f06afc31eb91eb5f035f0))
- **ui:** Add PrivaSend logo and favicon ([ddf633e](https://github.com/frederictriquet/PrivaSend/commit/ddf633ec8e05b63791b0a64a0dfa7404fb39377f))
- **ui:** Add version and build info to footer on all pages ([22bacab](https://github.com/frederictriquet/PrivaSend/commit/22bacabdf33a696c2b70e7995564be53259d9a17))

### Bug Fixes

- **ci:** Add Codecov token support and improve error handling ([42835c4](https://github.com/frederictriquet/PrivaSend/commit/42835c48e1a942b5e7e22ca6ebeba8c81cf32d96))
- **ci:** Add prettier ignore and format all files ([b02f721](https://github.com/frederictriquet/PrivaSend/commit/b02f7218c553aeaf635c462ae4fe8ca464a1ac4e))
- **ci:** Add tests and improve workflow reliability ([4be9e99](https://github.com/frederictriquet/PrivaSend/commit/4be9e99bce46d6774ea6ea927fd2287f2b9b1f41))
- **ci:** Improve coverage summary parsing from lcov.info ([44404b7](https://github.com/frederictriquet/PrivaSend/commit/44404b7044bd151ce0c1d8785f5d9d6a323d393e))
- **ci:** Resolve linting and build errors ([815e04b](https://github.com/frederictriquet/PrivaSend/commit/815e04b774515da11006ccd1dd01c8bea356c8ec))
- **ci:** Resolve TypeScript and Svelte 5 compatibility issues ([9918fb0](https://github.com/frederictriquet/PrivaSend/commit/9918fb0640e67f79d00d9e844e4fb72a6364b487))
- **ci:** Update to googleapis/release-please-action (non-deprecated) ([61abc71](https://github.com/frederictriquet/PrivaSend/commit/61abc71d0b533e33282015b12b3b2b9e0d96584b))
- **ci:** Upgrade CodeQL actions to v3 and add error handling ([a07f161](https://github.com/frederictriquet/PrivaSend/commit/a07f161efa6e3704fa04e55ae9827a712abede36))
- **ci:** Upgrade CodeQL to v4 and add security-events permissions ([564ca77](https://github.com/frederictriquet/PrivaSend/commit/564ca77288cbf63530669172fa57ffb46b944640))
- **database:** Add missing fields to ShareLink return type ([8f6b1a3](https://github.com/frederictriquet/PrivaSend/commit/8f6b1a38cc530a84fbc2f19027f67976e917de17))
- **deps:** Regenerate package-lock.json for CI compatibility ([6728543](https://github.com/frederictriquet/PrivaSend/commit/67285434975f81ff58b5bb15e09cabeb8e4cb82e))
- **docker:** Correct Trivy image reference for scanning ([1a0d7ec](https://github.com/frederictriquet/PrivaSend/commit/1a0d7ec813a65ee22f6ccfafe5d1478522dd32ff))
- **hooks:** Update to Husky 9 syntax (remove deprecated husky.sh) ([54a3dd9](https://github.com/frederictriquet/PrivaSend/commit/54a3dd91f66f1c8637484f9eb03770206bba7925))
- Remove coverage directory from git tracking ([3ceeff5](https://github.com/frederictriquet/PrivaSend/commit/3ceeff55c617010fc4dbb55eca3ee7f8c708da1f))
- Replace require() with imports and fix flaky timing tests ([cc299df](https://github.com/frederictriquet/PrivaSend/commit/cc299df6de68d845a97ad37a9a22c321a5ccb5df))
- **tests:** Correct date calculation assertions ([856474a](https://github.com/frederictriquet/PrivaSend/commit/856474af28084ea3c6450a42c27d98a9f542069b))
- **tests:** Disable coverage thresholds temporarily ([e839e7a](https://github.com/frederictriquet/PrivaSend/commit/e839e7a0b36f5853eaa9012e009f1918606c3b82))
- **tests:** Remove orphan code and fix ESLint errors ([1a36622](https://github.com/frederictriquet/PrivaSend/commit/1a36622d925573457d0bf4cddbbdfcb060a588aa))

## [Unreleased]

### To be implemented

- Phase 3: Advanced Security (Authentication, Encryption)
- Phase 4: UX Enhancements
- Phase 5: Admin Dashboard

---

## [0.4.0] - 2025-11-29

### Phase 2: CI/CD & Quality

#### Added

- GitHub Actions CI workflow (lint, test, build, typecheck)
- GitHub Actions Docker workflow (multi-arch build, GHCR publish)
- GitHub Actions Security workflow (Trivy, Hadolint, CodeQL, npm audit)
- Vitest configuration for unit tests
- Playwright configuration for E2E tests
- ESLint configuration with TypeScript and Svelte support
- Prettier configuration for code formatting
- Hadolint configuration for Dockerfile linting
- Codecov configuration for coverage reporting
- Version endpoint: `GET /api/version`
- Release script: `scripts/release.sh`
- Test directory structure

#### Changed

- Updated package.json with test dependencies
- Updated package.json with quality tool scripts
- All CI workflows use `master` branch instead of `main`

#### Documentation

- Added VERSIONING.md - Versioning strategy guide
- Added PHASE_2_COMPLETE.md - Phase 2 documentation
- Added QUICK_START.md - Quick start guide
- Updated ROADMAP.md - Phase 2 marked as complete
- Updated PROJECT_STATUS.md - Phase 2 status

---

## [0.3.0] - 2025-11-29

### Phase 1.4: Basic Security

#### Added

- HTTPS enforcement middleware (production)
- Security headers (CSP, HSTS, X-Frame-Options, etc.)
- Filename sanitization (path traversal protection)
- Dangerous extension blocking (.exe, .sh, etc.)
- MIME type validation with wildcards
- Rate limiting system (upload, download, API)
- XSS protection utilities

#### Changed

- Updated upload API with security validations
- Updated download API with rate limiting
- Integrated security middleware in hooks.server.ts

#### Security

- Protected against path traversal attacks
- Protected against XSS
- Protected against clickjacking
- Protected against MIME sniffing
- DoS protection via rate limiting

#### Documentation

- Added PHASE_1.4_COMPLETE.md

---

## [0.2.0] - 2025-11-29

### Phase 1.2: Secure Links & Download

#### Added

- SQLite database with WAL mode
- Share links automatic generation
- Download page with file information
- Copy-to-clipboard functionality
- Range requests support (resume downloads)
- Download tracking and statistics
- API for link management: `POST /api/links`, `GET /api/links`
- Download API with streaming: `GET /download/[token]`

#### Changed

- Upload API now returns shareLink in response
- Cleanup service now cleans expired links
- Configuration updated with database and links settings

#### Documentation

- Added PHASE_1.2_COMPLETE.md
- Updated README.md with Phase 1.2 features

---

## [0.1.0] - 2025-11-29

### Phase 1.1: File Upload & Storage

#### Added

- File upload interface with drag & drop
- Large file support (up to 5GB)
- Chunked upload for files > 10MB
- Local filesystem storage
- Automatic file expiration (7 days default)
- Automatic cleanup service
- File metadata management
- Configuration system via .env
- Upload API: `POST /api/upload`
- Docker support with Dockerfile and docker-compose.yml

#### Initial Setup

- SvelteKit 2.x project structure
- TypeScript configuration
- Node.js adapter for deployment
- Storage service with metadata
- Cleanup service with background tasks

#### Documentation

- Added README.md
- Added ROADMAP.md
- Added SETUP.md
- Added PHASE_1.1_COMPLETE.md
- Added test-upload.sh script

---

## Version Mapping

| Version | Phase     | Date       | Status         |
| ------- | --------- | ---------- | -------------- |
| v0.1.0  | Phase 1.1 | 2025-11-29 | âœ… Released    |
| v0.2.0  | Phase 1.2 | 2025-11-29 | âœ… Released    |
| v0.3.0  | Phase 1.4 | 2025-11-29 | âœ… Released    |
| v0.4.0  | Phase 2   | 2025-11-29 | âœ… Released    |
| v1.0.0  | Phase 3   | TBD        | ðŸ”œ Next Stable |

---

## Links

- [GitHub Repository](https://github.com/USER/privasend)
- [Docker Images](https://ghcr.io/USER/privasend)
- [Documentation](README.md)
- [Roadmap](ROADMAP.md)
